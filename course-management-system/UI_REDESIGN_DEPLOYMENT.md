# 🎨 UI重新设计项目部署指南

## 📋 项目概述

本项目基于莫奈/莫兰迪美学理念，对课程管理系统进行了全面的UI重新设计，实现了现代化的玻璃拟态效果界面。

## ✨ 新功能特色

### 🎨 设计系统
- **莫奈印象派主题**: 水彩柔光效果，适合学生端使用
- **莫兰迪色系主题**: 静谧克制风格，适合教师端使用
- **智能主题推荐**: 根据用户角色自动推荐合适的主题

### 🔮 玻璃拟态效果
- **毛玻璃背景**: 支持多级模糊强度
- **高光描边**: 精致的边框光效
- **噪点纹理**: 增加质感的细微颗粒
- **四态交互**: 正常、悬浮、激活、禁用状态

### ⚡ 性能优化
- **智能降级**: 根据设备性能自动调整效果
- **浏览器兼容**: 不支持新特性时自动降级
- **网络优化**: 慢网络环境下的优化策略

### ♿ 无障碍支持
- **键盘导航**: 完整的键盘操作支持
- **屏幕阅读器**: 兼容辅助技术
- **高对比度**: 支持高对比度模式
- **减少动效**: 尊重用户的动效偏好

## 🚀 快速启动

### 方法一：使用启动脚本（推荐）
```powershell
# 在项目根目录执行
.\start-ui-redesign.ps1
```

### 方法二：手动启动
```bash
# 停止现有容器
docker-compose down

# 重新构建并启动
docker-compose up --build -d

# 检查状态
docker ps
```

## 🌐 访问地址

- **前端界面**: http://localhost:8081
- **后端API**: http://localhost:8000
- **UI演示页面**: http://localhost:8081/demo/ui-redesign-showcase
- **主题测试页面**: http://localhost:8081/demo/theme-test

## 🎯 主要页面

### 教师端页面
- **Dashboard**: 统计概览、最近活动、快速操作
- **课程管理**: 课程列表、详情、编辑
- **成绩管理**: 批改作业、成绩录入
- **课程表**: 时间安排、冲突检测

### 学生端页面
- **Dashboard**: 学习统计、课程进度、成就系统
- **我的课程**: 课程列表、学习进度
- **我的成绩**: 成绩查看、趋势分析
- **课程表**: 个人课程安排

### 演示页面
- **UI展示**: 所有组件的效果演示
- **主题切换**: 实时主题预览
- **性能控制**: 效果强度调节
- **兼容性信息**: 设备支持状态

## 🛠️ 管理命令

### 容器管理
```bash
# 查看容器状态
docker ps

# 查看日志
docker-compose logs -f

# 重启服务
docker-compose restart

# 停止服务
docker-compose down

# 重新构建
docker-compose up --build -d
```

### 状态检查
```powershell
# 运行状态检查脚本
.\check-ui-status.ps1
```

## 🎨 主题系统使用

### 主题切换
1. **顶栏主题按钮**: 点击右上角的主题设置按钮，弹出简化主题选择器
2. **主题测试页面**: 访问 `/demo/theme-test` 进行详细主题测试
3. **UI展示页面**: 访问 `/demo/ui-redesign-showcase` 查看完整效果

### 主题持久化
- **自动保存**: 用户选择的主题会自动保存到浏览器本地存储
- **随机默认**: 首次访问时会随机生成一个默认主题
- **跨会话**: 主题设置在浏览器重启后仍然保持

### 主题选项
- **莫奈印象派**: 清晨湖畔、晨曦花园、海风薰衣草
- **莫兰迪色系**: 岩石与苔、燕麦与石墨、陶瓷与灰烬
- **明暗模式**: 每个主题都支持浅色和深色模式

### 自定义设置
- **玻璃效果强度**: 轻度/中度/重度
- **性能优化级别**: 自动/高性能/低性能/关闭
- **无障碍选项**: 减少动效/高对比度

## 🔧 技术架构

### 前端技术栈
- **React 18**: 现代化前端框架
- **TypeScript**: 类型安全
- **Ant Design 5**: UI组件库
- **Vite**: 构建工具
- **CSS Variables**: 动态主题系统

### 玻璃效果实现
- **backdrop-filter**: 现代浏览器毛玻璃效果
- **CSS降级**: 不支持时的兼容方案
- **性能监控**: 实时性能检测和优化

### 主题系统
- **Design Tokens**: 统一的设计令牌
- **CSS Variables**: 动态主题切换
- **角色适配**: 基于用户角色的主题推荐

## 📊 性能优化

### 自动优化策略
- **设备检测**: 内存、CPU、网络状况
- **性能监控**: 帧率检测和自动降级
- **资源优化**: 按需加载和缓存策略

### 兼容性降级
- **backdrop-filter不支持**: 自动使用透明背景
- **低端设备**: 减少模糊层数和动效
- **慢网络**: 禁用复杂效果

## 🐛 故障排除

### 常见问题

1. **容器启动失败**
   ```bash
   # 检查Docker状态
   docker version

   # 清理并重新启动
   docker-compose down
   docker system prune -f
   docker-compose up --build -d
   ```

2. **前端无法访问**
   ```bash
   # 检查容器状态
   docker logs course_management_frontend

   # 检查端口占用
   netstat -an | findstr 8081
   ```

3. **主题切换不生效**
   - 访问 `/demo/theme-test` 页面测试主题功能
   - 检查浏览器控制台是否有JavaScript错误
   - 确认CSS变量是否正确应用到DOM元素
   - 检查主题数据是否正确保存到localStorage

4. **玻璃效果不显示**
   - 检查浏览器是否支持backdrop-filter
   - 查看控制台是否有JavaScript错误
   - 尝试切换到兼容模式

### 日志查看
```bash
# 查看所有服务日志
docker-compose logs -f

# 查看特定服务日志
docker logs course_management_frontend -f
docker logs course_management_backend -f
```

## 📞 技术支持

如果遇到问题，请检查：
1. Docker是否正常运行
2. 端口是否被占用
3. 浏览器是否支持现代CSS特性
4. 网络连接是否正常

## 🎉 享受新界面！

现在您可以体验全新的莫奈/莫兰迪风格界面了！访问 http://localhost:8081 开始探索。
