# æ ¡å›­è¯¾ç¨‹ç®¡ç†ç³»ç»Ÿ - ç³»ç»Ÿå¥åº·æ£€æµ‹æŠ¥å‘Š

## ğŸ“Š æ£€æµ‹ç»“æœæ€»ç»“

**æ£€æµ‹æ—¶é—´**: 2024å¹´8æœˆ29æ—¥  
**æ£€æµ‹çŠ¶æ€**: âœ… å…¨éƒ¨é€šè¿‡  
**ç³»ç»ŸçŠ¶æ€**: ğŸ‰ æ‰€æœ‰ç»„ä»¶è¿è¡Œæ­£å¸¸

### ğŸ” æ£€æµ‹é¡¹ç›®è¯¦æƒ…

| æ£€æµ‹é¡¹ç›® | çŠ¶æ€ | è¯¦æƒ… |
|---------|------|------|
| DockeræœåŠ¡ | âœ… æ­£å¸¸ | Docker å’Œ Docker Compose å·²å®‰è£…å¹¶è¿è¡Œ |
| æ•°æ®åº“è¿æ¥ | âœ… æ­£å¸¸ | PostgreSQL ç«¯å£ 5432 å¯è®¿é—®ï¼Œè¿æ¥æ­£å¸¸ |
| Redisè¿æ¥ | âœ… æ­£å¸¸ | Redis ç«¯å£ 6379 å¯è®¿é—®ï¼Œè¿æ¥æ­£å¸¸ |
| åç«¯æœåŠ¡ | âœ… æ­£å¸¸ | Django åç«¯ç«¯å£ 8000 å¯è®¿é—®ï¼Œå¥åº·æ£€æŸ¥é€šè¿‡ |
| å‰ç«¯æœåŠ¡ | âœ… æ­£å¸¸ | React å‰ç«¯ç«¯å£ 8081 å¯è®¿é—®ï¼Œé¡µé¢æ­£å¸¸åŠ è½½ |

## ğŸš€ å¯ç”¨çš„å¯åŠ¨å’Œæ£€æµ‹è„šæœ¬

æˆ‘å·²ç»ä¸ºæ‚¨åˆ›å»ºäº†å¤šä¸ªå¯åŠ¨å’Œæ£€æµ‹è„šæœ¬ï¼Œé€‚ç”¨äºä¸åŒçš„ä½¿ç”¨åœºæ™¯ï¼š

### 1. ç®€åŒ–ç‰ˆ Python è„šæœ¬ï¼ˆæ¨èï¼‰
**æ–‡ä»¶**: `simple-health-check.py`
```bash
# ä»…æ£€æŸ¥ç³»ç»ŸçŠ¶æ€
python simple-health-check.py check

# å¯åŠ¨ç³»ç»Ÿå¹¶æ£€æŸ¥
python simple-health-check.py start
```
**ç‰¹ç‚¹**: 
- æ— å¤–éƒ¨ä¾èµ–ï¼Œä½¿ç”¨ Python æ ‡å‡†åº“
- é€‚ç”¨äº Windows ç¯å¢ƒ
- è¾“å‡ºæ¸…æ™°ï¼Œæ˜“äºç†è§£

### 2. PowerShell è„šæœ¬ï¼ˆWindows ä¸“ç”¨ï¼‰
**æ–‡ä»¶**: `system-health-check.ps1`
```powershell
# ä»…æ£€æŸ¥ç³»ç»ŸçŠ¶æ€
.\system-health-check.ps1 -Action check

# å¯åŠ¨ç³»ç»Ÿå¹¶æ£€æŸ¥
.\system-health-check.ps1 -Action start
```
**ç‰¹ç‚¹**:
- åŠŸèƒ½æœ€å…¨é¢
- Windows åŸç”Ÿæ”¯æŒ
- æ”¯æŒå½©è‰²è¾“å‡ºå’Œè¯¦ç»†é”™è¯¯ä¿¡æ¯

### 3. æ‰¹å¤„ç†è„šæœ¬ï¼ˆæœ€ç®€å•ï¼‰
**æ–‡ä»¶**: `quick-health-check.bat`
```batch
# åŒå‡»è¿è¡Œæˆ–å‘½ä»¤è¡Œæ‰§è¡Œ
.\quick-health-check.bat
```
**ç‰¹ç‚¹**:
- æœ€ç®€å•æ˜“ç”¨
- è‡ªåŠ¨å¯åŠ¨å’Œæ£€æŸ¥
- é€‚åˆéæŠ€æœ¯ç”¨æˆ·

### 4. å®Œæ•´ç‰ˆ Python è„šæœ¬
**æ–‡ä»¶**: `system-health-check.py`
```bash
# åŠŸèƒ½æœ€å…¨é¢çš„ç‰ˆæœ¬ï¼ˆéœ€è¦ requests åº“ï¼‰
python system-health-check.py check
python system-health-check.py start
```

### 5. åŸæœ‰ Shell è„šæœ¬
**æ–‡ä»¶**: `quick-start.sh`
```bash
# Linux/Mac ç¯å¢ƒä½¿ç”¨
./quick-start.sh
```

## ğŸŒ ç³»ç»Ÿè®¿é—®ä¿¡æ¯

### ä¸»è¦è®¿é—®åœ°å€
- **å‰ç«¯åº”ç”¨**: http://localhost:8081
- **åç«¯ API**: http://localhost:8000
- **API æ–‡æ¡£**: http://localhost:8000/api/docs/
- **ç®¡ç†åå°**: http://localhost:8000/admin

### æµ‹è¯•è´¦å·
| è§’è‰² | ç”¨æˆ·å | å¯†ç  | æƒé™è¯´æ˜ |
|------|--------|------|----------|
| ç®¡ç†å‘˜ | admin | admin123 | ç³»ç»Ÿç®¡ç†å‘˜ï¼Œæ‹¥æœ‰æ‰€æœ‰æƒé™ |
| æ•™å¸ˆ | teacher1 | teacher123 | æ•™å¸ˆè´¦å·ï¼Œå¯ç®¡ç†è¯¾ç¨‹å’Œå­¦ç”Ÿ |
| å­¦ç”Ÿ | student1 | student123 | å­¦ç”Ÿè´¦å·ï¼Œå¯æŸ¥çœ‹è¯¾ç¨‹è¡¨ |

## ğŸ”§ å¸¸ç”¨ç»´æŠ¤å‘½ä»¤

### Docker æœåŠ¡ç®¡ç†
```bash
# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
docker-compose ps

# æŸ¥çœ‹æ‰€æœ‰æœåŠ¡æ—¥å¿—
docker-compose logs -f

# æŸ¥çœ‹ç‰¹å®šæœåŠ¡æ—¥å¿—
docker-compose logs -f backend
docker-compose logs -f frontend
docker-compose logs -f db
docker-compose logs -f redis

# é‡å¯æ‰€æœ‰æœåŠ¡
docker-compose restart

# é‡å¯ç‰¹å®šæœåŠ¡
docker-compose restart backend

# åœæ­¢æ‰€æœ‰æœåŠ¡
docker-compose down

# åœæ­¢å¹¶åˆ é™¤æ•°æ®å·ï¼ˆè°¨æ…ä½¿ç”¨ï¼‰
docker-compose down -v
```

### æ•°æ®åº“ç®¡ç†
```bash
# è¿è¡Œæ•°æ®åº“è¿ç§»
docker-compose exec backend python manage.py migrate

# åˆ›å»ºè¶…çº§ç”¨æˆ·
docker-compose exec backend python manage.py createsuperuser

# è¿›å…¥æ•°æ®åº“å‘½ä»¤è¡Œ
docker-compose exec db psql -U postgres -d course_management

# å¤‡ä»½æ•°æ®åº“
docker-compose exec db pg_dump -U postgres course_management > backup.sql

# æ¢å¤æ•°æ®åº“
docker-compose exec -T db psql -U postgres course_management < backup.sql
```

### ç³»ç»Ÿç›‘æ§
```bash
# æŸ¥çœ‹å®¹å™¨èµ„æºä½¿ç”¨æƒ…å†µ
docker stats

# æŸ¥çœ‹ç³»ç»Ÿç£ç›˜ä½¿ç”¨
docker system df

# æ¸…ç†æœªä½¿ç”¨çš„ Docker èµ„æº
docker system prune -f
```

## ğŸ› ï¸ æ•…éšœæ’é™¤æŒ‡å—

### å¸¸è§é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ

#### 1. æœåŠ¡å¯åŠ¨å¤±è´¥
```bash
# æ£€æŸ¥ç«¯å£å ç”¨
netstat -ano | findstr :8000
netstat -ano | findstr :8081
netstat -ano | findstr :5432
netstat -ano | findstr :6379

# é‡æ–°æ„å»ºå¹¶å¯åŠ¨
docker-compose down
docker-compose build --no-cache
docker-compose up -d
```

#### 2. æ•°æ®åº“è¿æ¥é—®é¢˜
```bash
# æ£€æŸ¥æ•°æ®åº“å®¹å™¨çŠ¶æ€
docker-compose logs db

# é‡å¯æ•°æ®åº“
docker-compose restart db

# æ£€æŸ¥æ•°æ®åº“é…ç½®
docker-compose exec db env | findstr POSTGRES
```

#### 3. å‰ç«¯é¡µé¢æ— æ³•è®¿é—®
```bash
# æ£€æŸ¥å‰ç«¯å®¹å™¨çŠ¶æ€
docker-compose logs frontend

# é‡æ–°æ„å»ºå‰ç«¯
docker-compose build frontend
docker-compose up -d frontend
```

#### 4. åç«¯ API å¼‚å¸¸
```bash
# æŸ¥çœ‹åç«¯æ—¥å¿—
docker-compose logs backend

# è¿›å…¥åç«¯å®¹å™¨è°ƒè¯•
docker-compose exec backend bash

# æ£€æŸ¥ Django é…ç½®
docker-compose exec backend python manage.py check
```

## ğŸ“ˆ æ€§èƒ½ç›‘æ§å»ºè®®

### å®šæœŸæ£€æŸ¥é¡¹ç›®
1. **æ¯æ—¥æ£€æŸ¥**: è¿è¡Œå¥åº·æ£€æŸ¥è„šæœ¬ç¡®è®¤ç³»ç»ŸçŠ¶æ€
2. **æ¯å‘¨æ£€æŸ¥**: æŸ¥çœ‹æ—¥å¿—æ–‡ä»¶ï¼Œæ¸…ç†ä¸å¿…è¦çš„æ•°æ®
3. **æ¯æœˆæ£€æŸ¥**: å¤‡ä»½æ•°æ®åº“ï¼Œæ›´æ–°ç³»ç»Ÿä¾èµ–

### ç›‘æ§æŒ‡æ ‡
- CPU ä½¿ç”¨ç‡ < 80%
- å†…å­˜ä½¿ç”¨ç‡ < 85%
- ç£ç›˜ä½¿ç”¨ç‡ < 90%
- æ•°æ®åº“è¿æ¥æ•° < 100
- å“åº”æ—¶é—´ < 2ç§’

## ğŸ“ æŠ€æœ¯æ”¯æŒ

### è·å–å¸®åŠ©çš„æ­¥éª¤
1. è¿è¡Œå¥åº·æ£€æŸ¥è„šæœ¬è·å–ç³»ç»ŸçŠ¶æ€
2. æŸ¥çœ‹ç›¸å…³æœåŠ¡çš„æ—¥å¿—æ–‡ä»¶
3. æ£€æŸ¥ç³»ç»Ÿèµ„æºä½¿ç”¨æƒ…å†µ
4. å‚è€ƒæ•…éšœæ’é™¤æŒ‡å—
5. å¦‚é—®é¢˜ä»æœªè§£å†³ï¼Œè¯·è”ç³»å¼€å‘å›¢é˜Ÿ

### æŠ¥å‘Šé—®é¢˜æ—¶è¯·æä¾›
- å¥åº·æ£€æŸ¥è„šæœ¬çš„å®Œæ•´è¾“å‡º
- ç›¸å…³æœåŠ¡çš„æ—¥å¿—ä¿¡æ¯
- ç³»ç»Ÿç¯å¢ƒä¿¡æ¯ï¼ˆæ“ä½œç³»ç»Ÿã€Docker ç‰ˆæœ¬ç­‰ï¼‰
- é—®é¢˜å¤ç°æ­¥éª¤

---

## ğŸ¯ æ€»ç»“

âœ… **ç³»ç»ŸçŠ¶æ€**: æ‰€æœ‰ç»„ä»¶è¿è¡Œæ­£å¸¸  
âœ… **è¿æ¥æ€§**: å‰ç«¯ã€åç«¯ã€æ•°æ®åº“è¿æ¥æ­£å¸¸  
âœ… **å¯ç”¨æ€§**: æ‰€æœ‰æœåŠ¡ç«¯ç‚¹å“åº”æ­£å¸¸  
âœ… **è„šæœ¬å·¥å…·**: å¤šç§å¯åŠ¨å’Œæ£€æµ‹è„šæœ¬å·²å°±ç»ª  
âœ… **æ–‡æ¡£å®Œæ•´**: è¯¦ç»†çš„ä½¿ç”¨å’Œç»´æŠ¤æ–‡æ¡£å·²æä¾›  

**æ¨èä½¿ç”¨**: `simple-health-check.py` è¿›è¡Œæ—¥å¸¸çš„ç³»ç»Ÿå¥åº·æ£€æŸ¥ï¼Œè¯¥è„šæœ¬ç®€å•å¯é ï¼Œæ— å¤–éƒ¨ä¾èµ–ã€‚

**æœ€åæ›´æ–°**: 2024å¹´8æœˆ29æ—¥  
**æ£€æµ‹ç‰ˆæœ¬**: v1.0  
**çŠ¶æ€**: ç”Ÿäº§å°±ç»ª âœ…
