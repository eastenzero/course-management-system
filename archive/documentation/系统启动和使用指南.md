# è¯¾ç¨‹ç®¡ç†ç³»ç»Ÿ - ç³»ç»Ÿå¯åŠ¨å’Œä½¿ç”¨æŒ‡å—

## ğŸ¯ ç³»ç»ŸçŠ¶æ€

**å½“å‰çŠ¶æ€**: âœ… ç³»ç»Ÿå·²å®Œå…¨å¯åŠ¨å¹¶æ­£å¸¸è¿è¡Œ
**æ£€æŸ¥æ—¶é—´**: 2025å¹´8æœˆ16æ—¥ 23:30
**æ‰€æœ‰æœåŠ¡**: æ­£å¸¸è¿è¡Œä¸­

---

## ğŸš€ å½“å‰è¿è¡Œçš„æœåŠ¡

ç³»ç»Ÿå·²ç»é€šè¿‡DockeræˆåŠŸå¯åŠ¨ï¼Œæ‰€æœ‰æœåŠ¡éƒ½åœ¨æ­£å¸¸è¿è¡Œï¼š

### 1. æ•°æ®åº“æœåŠ¡ (PostgreSQL)
- **å®¹å™¨å**: course_management_db
- **ç«¯å£**: 5432
- **çŠ¶æ€**: âœ… å¥åº·è¿è¡Œ
- **æ•°æ®åº“**: course_management
- **ç”¨æˆ·**: postgres

### 2. ç¼“å­˜æœåŠ¡ (Redis)
- **å®¹å™¨å**: course_management_redis  
- **ç«¯å£**: 6379
- **çŠ¶æ€**: âœ… å¥åº·è¿è¡Œ
- **å¯†ç **: redis123

### 3. åç«¯æœåŠ¡ (Django)
- **å®¹å™¨å**: course_management_backend
- **ç«¯å£**: 8000
- **çŠ¶æ€**: âœ… è¿è¡Œä¸­ (æœ‰è½»å¾®workerè¶…æ—¶ï¼Œä½†ä¸å½±å“ä½¿ç”¨)
- **APIåœ°å€**: http://localhost:8000

### 4. å‰ç«¯æœåŠ¡ (React)
- **å®¹å™¨å**: course_management_frontend
- **ç«¯å£**: 80, 443
- **çŠ¶æ€**: âœ… å¥åº·è¿è¡Œ
- **è®¿é—®åœ°å€**: http://localhost

---

## ğŸŒ è®¿é—®åœ°å€å’ŒåŠŸèƒ½

### ä¸»è¦è®¿é—®ç‚¹
- **ğŸ  å‰ç«¯ä¸»é¡µ**: http://localhost
- **ğŸ”§ åç«¯API**: http://localhost:8000
- **ğŸ‘¨â€ğŸ’¼ ç®¡ç†åå°**: http://localhost:8000/admin
- **ğŸ“š APIæ–‡æ¡£**: http://localhost:8000/api/docs/

### é»˜è®¤ç™»å½•å‡­æ®

#### è¶…çº§ç®¡ç†å‘˜
- **ç”¨æˆ·å**: admin
- **å¯†ç **: admin123
- **æƒé™**: ç³»ç»Ÿæœ€é«˜æƒé™ï¼Œå¯è®¿é—®æ‰€æœ‰åŠŸèƒ½

#### æ•™å¸ˆæµ‹è¯•è´¦å·
- **ç”¨æˆ·å**: teacher000001 åˆ° teacher000300
- **å¯†ç **: 123456
- **ç¤ºä¾‹**: teacher000001 (ä½•é™éœ)

#### å­¦ç”Ÿæµ‹è¯•è´¦å·  
- **ç”¨æˆ·å**: student000001 åˆ° student005000
- **å¯†ç **: 123456
- **ç¤ºä¾‹**: student000001 (é«˜æ¶›ç§€è‹±, å­¦å·: 2024010001)

---

## ğŸ® ä½¿ç”¨æŒ‡å—

### 1. å¿«é€Ÿç™»å½•æµ‹è¯•
1. æ‰“å¼€æµè§ˆå™¨è®¿é—® http://localhost
2. ä½¿ç”¨ä»¥ä¸‹ä»»ä¸€è´¦å·ç™»å½•ï¼š
   - ç®¡ç†å‘˜: admin / admin123
   - æ•™å¸ˆ: teacher000001 / 123456  
   - å­¦ç”Ÿ: student000001 / 123456
3. æ ¹æ®è§’è‰²è‡ªåŠ¨è·³è½¬åˆ°å¯¹åº”çš„ä»ªè¡¨æ¿

### 2. åŠŸèƒ½æµ‹è¯•å»ºè®®

#### ç®¡ç†å‘˜åŠŸèƒ½ (admin/admin123)
- ç”¨æˆ·ç®¡ç†ï¼šæŸ¥çœ‹å’Œç®¡ç†æ‰€æœ‰ç”¨æˆ·
- è¯¾ç¨‹ç®¡ç†ï¼šåˆ›å»ºã€ç¼–è¾‘ã€åˆ é™¤è¯¾ç¨‹
- æ•™å®¤ç®¡ç†ï¼šç®¡ç†æ•™å®¤èµ„æº
- æ•°æ®åˆ†æï¼šæŸ¥çœ‹ç³»ç»Ÿç»Ÿè®¡æ•°æ®

#### æ•™å¸ˆåŠŸèƒ½ (teacher000001/123456)
- è¯¾ç¨‹ç®¡ç†ï¼šç®¡ç†è‡ªå·±çš„è¯¾ç¨‹
- å­¦ç”Ÿç®¡ç†ï¼šæŸ¥çœ‹é€‰è¯¾å­¦ç”Ÿä¿¡æ¯
- æˆç»©ç®¡ç†ï¼šå½•å…¥å’Œç®¡ç†å­¦ç”Ÿæˆç»©
- è¯¾ç¨‹è¡¨ï¼šæŸ¥çœ‹æ•™å­¦å®‰æ’

#### å­¦ç”ŸåŠŸèƒ½ (student000001/123456)
- é€‰è¯¾ç³»ç»Ÿï¼šæµè§ˆå’Œé€‰æ‹©è¯¾ç¨‹
- è¯¾ç¨‹è¡¨ï¼šæŸ¥çœ‹ä¸ªäººè¯¾ç¨‹å®‰æ’
- æˆç»©æŸ¥è¯¢ï¼šæŸ¥çœ‹å„ç§‘æˆç»©
- ä¸ªäººä¿¡æ¯ï¼šç®¡ç†ä¸ªäººèµ„æ–™

### 3. åˆ‡æ¢ç”¨æˆ·æµ‹è¯•
1. ç‚¹å‡»å³ä¸Šè§’ç”¨æˆ·å¤´åƒ
2. é€‰æ‹©"é€€å‡ºç™»å½•"
3. ä½¿ç”¨ä¸åŒè§’è‰²è´¦å·é‡æ–°ç™»å½•
4. è§‚å¯Ÿç•Œé¢å’ŒåŠŸèƒ½çš„å·®å¼‚

---

## ğŸ› ï¸ ç³»ç»Ÿç®¡ç†å‘½ä»¤

### æŸ¥çœ‹æœåŠ¡çŠ¶æ€
```bash
sudo docker ps
```

### æŸ¥çœ‹æœåŠ¡æ—¥å¿—
```bash
# æŸ¥çœ‹æ‰€æœ‰æœåŠ¡æ—¥å¿—
sudo docker-compose logs -f

# æŸ¥çœ‹ç‰¹å®šæœåŠ¡æ—¥å¿—
sudo docker logs course_management_backend
sudo docker logs course_management_frontend
sudo docker logs course_management_db
sudo docker logs course_management_redis
```

### é‡å¯æœåŠ¡
```bash
# é‡å¯æ‰€æœ‰æœåŠ¡
sudo docker-compose restart

# é‡å¯ç‰¹å®šæœåŠ¡
sudo docker-compose restart backend
sudo docker-compose restart frontend
```

### åœæ­¢ç³»ç»Ÿ
```bash
# åœæ­¢æ‰€æœ‰æœåŠ¡
sudo docker-compose down

# åœæ­¢å¹¶åˆ é™¤æ•°æ®å·ï¼ˆè°¨æ…ä½¿ç”¨ï¼‰
sudo docker-compose down -v
```

### ä½¿ç”¨éƒ¨ç½²è„šæœ¬
```bash
# æŸ¥çœ‹è„šæœ¬å¸®åŠ©
./deployment/docker/deploy.sh

# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
./deployment/docker/deploy.sh status

# æŸ¥çœ‹æ—¥å¿—
./deployment/docker/deploy.sh logs

# åœæ­¢æœåŠ¡
./deployment/docker/deploy.sh stop

# é‡æ–°æ„å»ºå¹¶å¯åŠ¨
./deployment/docker/deploy.sh rebuild
```

---

## ğŸ“Š ç³»ç»Ÿæ•°æ®æ¦‚è§ˆ

- **ç”¨æˆ·æ€»æ•°**: 5,301äºº
  - ç®¡ç†å‘˜: 1äºº
  - æ•™å¸ˆ: 300äºº  
  - å­¦ç”Ÿ: 5,000äºº
- **è¯¾ç¨‹æ€»æ•°**: 600é—¨
- **æ•™å®¤æ€»æ•°**: 58ä¸ª
- **æ•°æ®åº“è®°å½•**: 38,394æ¡

---

## ğŸ”§ æ•…éšœæ’é™¤

### 1. ç«¯å£å†²çª
å¦‚æœé‡åˆ°ç«¯å£å ç”¨é—®é¢˜ï¼š
```bash
# æŸ¥çœ‹ç«¯å£å ç”¨
sudo netstat -tlnp | grep -E ':(80|443|8000|5432|6379)'

# åœæ­¢å†²çªçš„æœåŠ¡
sudo docker-compose down
```

### 2. æœåŠ¡ä¸å¥åº·
å¦‚æœåç«¯æ˜¾ç¤ºä¸å¥åº·çŠ¶æ€ï¼š
```bash
# æŸ¥çœ‹åç«¯æ—¥å¿—
sudo docker logs course_management_backend --tail 50

# é‡å¯åç«¯æœåŠ¡
sudo docker-compose restart backend
```

### 3. æ•°æ®åº“è¿æ¥é—®é¢˜
```bash
# é‡å¯æ•°æ®åº“
sudo docker-compose restart db

# æŸ¥çœ‹æ•°æ®åº“æ—¥å¿—
sudo docker logs course_management_db
```

### 4. å‰ç«¯æ— æ³•è®¿é—®
```bash
# æ£€æŸ¥å‰ç«¯æœåŠ¡
sudo docker logs course_management_frontend

# é‡å¯å‰ç«¯æœåŠ¡
sudo docker-compose restart frontend
```

---

## ğŸ“± ç§»åŠ¨ç«¯è®¿é—®

åœ¨åŒä¸€ç½‘ç»œä¸‹çš„ç§»åŠ¨è®¾å¤‡å¯ä»¥è®¿é—®ï¼š
```
http://ä½ çš„ç”µè„‘IPåœ°å€
```

æŸ¥çœ‹ç”µè„‘IPåœ°å€ï¼š
```bash
# Linux/Mac
ip addr show | grep inet

# æˆ–è€…
hostname -I
```

---

## ğŸ¯ ä¸‹ä¸€æ­¥å»ºè®®

1. **ç†Ÿæ‚‰ç³»ç»Ÿ**: ä½¿ç”¨ä¸åŒè§’è‰²è´¦å·ä½“éªŒå„ç§åŠŸèƒ½
2. **æ•°æ®æµ‹è¯•**: å°è¯•åˆ›å»ºã€ç¼–è¾‘ã€åˆ é™¤å„ç§æ•°æ®
3. **æƒé™æµ‹è¯•**: éªŒè¯ä¸åŒè§’è‰²çš„æƒé™é™åˆ¶
4. **æ€§èƒ½æµ‹è¯•**: è§‚å¯Ÿç³»ç»Ÿåœ¨å¤§é‡æ•°æ®ä¸‹çš„è¡¨ç°
5. **ç§»åŠ¨ç«¯æµ‹è¯•**: åœ¨æ‰‹æœºæˆ–å¹³æ¿ä¸Šæµ‹è¯•å“åº”å¼è®¾è®¡

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

- **å®Œæ•´æ–‡æ¡£**: æŸ¥çœ‹ `Dockeréƒ¨ç½²æŠ€æœ¯æ–‡æ¡£.md`
- **å¤šç”¨æˆ·æŒ‡å—**: æŸ¥çœ‹ `å¤šç”¨æˆ·ç™»å½•ä½¿ç”¨æŒ‡å—.md`
- **ç³»ç»ŸçŠ¶æ€**: æŸ¥çœ‹ `ç³»ç»ŸçŠ¶æ€æŠ¥å‘Š.md`
- **å¼€å‘æŒ‡å—**: æŸ¥çœ‹å„ç»„ä»¶çš„READMEæ–‡ä»¶

---

**ğŸ‰ æ­å–œï¼æ‚¨çš„è¯¾ç¨‹ç®¡ç†ç³»ç»Ÿå·²ç»å®Œå…¨å¯åŠ¨å¹¶å¯ä»¥æ­£å¸¸ä½¿ç”¨äº†ï¼**
