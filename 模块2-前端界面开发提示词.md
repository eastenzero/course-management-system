# 模块2：前端界面开发提示词

## 前置环境配置提示词

### 开发环境要求
你是一位资深的React前端开发专家，需要为校园课程表管理系统构建美观、大气、简约、高级的用户界面。请确保以下环境已正确配置：

**Node.js版本**: 18.x LTS
**包管理器**: npm 或 yarn
**构建工具**: Vite 4.x
**TypeScript**: 5.x

### 环境配置检查清单
```bash
# 1. 验证Node.js版本
node --version  # 应显示 v18.x.x

# 2. 创建React项目
npm create vite@latest course-management-frontend -- --template react-ts
cd course-management-frontend

# 3. 安装核心依赖
npm install antd@5.12.8
npm install @reduxjs/toolkit@1.9.7
npm install react-redux@8.1.3
npm install react-router-dom@6.18.0
npm install axios@1.6.2
npm install echarts@5.4.3
npm install echarts-for-react@3.0.2
npm install styled-components@6.1.1
npm install @types/styled-components@5.1.30

# 4. 安装开发依赖
npm install -D @types/node@20.9.0
npm install -D eslint@8.53.0
npm install -D prettier@3.1.0
npm install -D @typescript-eslint/eslint-plugin@6.12.0
npm install -D @typescript-eslint/parser@6.12.0

# 5. 验证安装
npm run dev
```

## 设计系统要求

### 视觉设计原则
- **美观**: 现代化的视觉设计，符合当代审美
- **大气**: 布局宽敞，留白适当，视觉层次清晰
- **简约**: 界面简洁，避免冗余元素
- **高级**: 精致的细节处理，专业的交互体验

### 色彩系统
```typescript
export const theme = {
  colors: {
    primary: '#1890ff',      // 主色调 - 科技蓝
    secondary: '#722ed1',    // 辅助色 - 紫色
    success: '#52c41a',      // 成功色 - 绿色
    warning: '#faad14',      // 警告色 - 橙色
    error: '#f5222d',        // 错误色 - 红色
    text: {
      primary: '#262626',    // 主要文字
      secondary: '#595959',  // 次要文字
      disabled: '#bfbfbf',   // 禁用文字
    },
    background: {
      primary: '#ffffff',    // 主背景
      secondary: '#fafafa',  // 次背景
      tertiary: '#f5f5f5',   // 三级背景
    },
    border: {
      light: '#f0f0f0',      // 浅边框
      default: '#d9d9d9',    // 默认边框
      dark: '#bfbfbf',       // 深边框
    }
  },
  shadows: {
    card: '0 2px 8px rgba(0, 0, 0, 0.06)',
    modal: '0 6px 16px rgba(0, 0, 0, 0.12)',
    dropdown: '0 4px 12px rgba(0, 0, 0, 0.15)',
  },
  borderRadius: {
    small: '4px',
    medium: '8px',
    large: '12px',
  }
};
```

### 字体系统
```css
/* 字体层级 */
.text-h1 { font-size: 32px; font-weight: 600; line-height: 1.2; }
.text-h2 { font-size: 24px; font-weight: 600; line-height: 1.3; }
.text-h3 { font-size: 20px; font-weight: 500; line-height: 1.4; }
.text-h4 { font-size: 16px; font-weight: 500; line-height: 1.5; }
.text-body { font-size: 14px; font-weight: 400; line-height: 1.6; }
.text-caption { font-size: 12px; font-weight: 400; line-height: 1.5; }
```

## 核心开发任务

### 任务1：项目架构搭建

**目标**: 构建可维护、可扩展的前端项目架构

**项目结构**:
```
src/
├── components/           # 通用组件
│   ├── common/          # 基础组件
│   ├── layout/          # 布局组件
│   └── business/        # 业务组件
├── pages/               # 页面组件
│   ├── auth/           # 认证相关页面
│   ├── dashboard/      # 仪表板
│   ├── courses/        # 课程管理
│   ├── schedules/      # 课程表管理
│   └── analytics/      # 数据分析
├── store/              # 状态管理
│   ├── slices/         # Redux切片
│   └── api/            # API切片
├── hooks/              # 自定义Hooks
├── utils/              # 工具函数
├── types/              # TypeScript类型定义
├── styles/             # 样式文件
└── assets/             # 静态资源
```

**核心配置文件**:

1. **Vite配置 (vite.config.ts)**
```typescript
import { defineConfig } from 'vite';
import react from '@vitejs/plugin-react';
import path from 'path';

export default defineConfig({
  plugins: [react()],
  resolve: {
    alias: {
      '@': path.resolve(__dirname, './src'),
      '@components': path.resolve(__dirname, './src/components'),
      '@pages': path.resolve(__dirname, './src/pages'),
      '@store': path.resolve(__dirname, './src/store'),
      '@utils': path.resolve(__dirname, './src/utils'),
      '@types': path.resolve(__dirname, './src/types'),
    },
  },
  server: {
    port: 3000,
    proxy: {
      '/api': {
        target: 'http://localhost:8000',
        changeOrigin: true,
      },
    },
  },
});
```

2. **TypeScript配置 (tsconfig.json)**
```json
{
  "compilerOptions": {
    "target": "ES2020",
    "useDefineForClassFields": true,
    "lib": ["ES2020", "DOM", "DOM.Iterable"],
    "module": "ESNext",
    "skipLibCheck": true,
    "moduleResolution": "bundler",
    "allowImportingTsExtensions": true,
    "resolveJsonModule": true,
    "isolatedModules": true,
    "noEmit": true,
    "jsx": "react-jsx",
    "strict": true,
    "noUnusedLocals": true,
    "noUnusedParameters": true,
    "noFallthroughCasesInSwitch": true,
    "baseUrl": ".",
    "paths": {
      "@/*": ["src/*"],
      "@components/*": ["src/components/*"],
      "@pages/*": ["src/pages/*"],
      "@store/*": ["src/store/*"],
      "@utils/*": ["src/utils/*"],
      "@types/*": ["src/types/*"]
    }
  },
  "include": ["src"],
  "references": [{ "path": "./tsconfig.node.json" }]
}
```

### 任务2：通用组件库开发

**目标**: 构建高质量的通用组件库

**核心组件列表**:

1. **布局组件**
```typescript
// Layout/MainLayout.tsx
interface MainLayoutProps {
  children: React.ReactNode;
  sidebarCollapsed?: boolean;
  onSidebarToggle?: () => void;
}

const MainLayout: React.FC<MainLayoutProps> = ({
  children,
  sidebarCollapsed = false,
  onSidebarToggle,
}) => {
  return (
    <Layout style={{ minHeight: '100vh' }}>
      <Sidebar collapsed={sidebarCollapsed} onToggle={onSidebarToggle} />
      <Layout>
        <Header />
        <Content style={{ padding: '24px', background: '#fff' }}>
          {children}
        </Content>
      </Layout>
    </Layout>
  );
};
```

2. **数据表格组件**
```typescript
// DataTable/DataTable.tsx
interface DataTableProps<T> {
  columns: ColumnType<T>[];
  dataSource: T[];
  loading?: boolean;
  pagination?: TablePaginationConfig;
  rowSelection?: TableRowSelection<T>;
  onRow?: (record: T) => React.HTMLAttributes<HTMLElement>;
  scroll?: { x?: number; y?: number };
  size?: 'small' | 'middle' | 'large';
}

const DataTable = <T extends Record<string, any>>({
  columns,
  dataSource,
  loading = false,
  pagination,
  rowSelection,
  onRow,
  scroll,
  size = 'middle',
}: DataTableProps<T>) => {
  return (
    <Table
      columns={columns}
      dataSource={dataSource}
      loading={loading}
      pagination={pagination}
      rowSelection={rowSelection}
      onRow={onRow}
      scroll={scroll}
      size={size}
      bordered
      style={{ background: '#fff' }}
    />
  );
};
```

3. **课程表网格组件**
```typescript
// ScheduleGrid/ScheduleGrid.tsx
interface ScheduleGridProps {
  schedules: Schedule[];
  timeSlots: TimeSlot[];
  weekDays: string[];
  onCellClick?: (day: number, timeSlot: number) => void;
  onScheduleClick?: (schedule: Schedule) => void;
  editable?: boolean;
}

const ScheduleGrid: React.FC<ScheduleGridProps> = ({
  schedules,
  timeSlots,
  weekDays,
  onCellClick,
  onScheduleClick,
  editable = false,
}) => {
  // 实现课程表网格布局
  return (
    <div className="schedule-grid">
      {/* 时间表头 */}
      <div className="time-header">
        {timeSlots.map(slot => (
          <div key={slot.id} className="time-slot">
            {slot.name}
          </div>
        ))}
      </div>
      
      {/* 课程表主体 */}
      <div className="schedule-body">
        {weekDays.map((day, dayIndex) => (
          <div key={day} className="day-column">
            <div className="day-header">{day}</div>
            {timeSlots.map((slot, slotIndex) => (
              <ScheduleCell
                key={`${dayIndex}-${slotIndex}`}
                day={dayIndex}
                timeSlot={slotIndex}
                schedule={findSchedule(schedules, dayIndex, slotIndex)}
                onClick={onCellClick}
                onScheduleClick={onScheduleClick}
                editable={editable}
              />
            ))}
          </div>
        ))}
      </div>
    </div>
  );
};
```

### 任务3：页面组件开发

**目标**: 开发用户友好的页面界面

**核心页面**:

1. **登录页面 (LoginPage)**
```typescript
const LoginPage: React.FC = () => {
  const [form] = Form.useForm();
  const [loading, setLoading] = useState(false);
  const navigate = useNavigate();

  const onFinish = async (values: LoginForm) => {
    setLoading(true);
    try {
      const response = await authAPI.login(values);
      localStorage.setItem('token', response.data.token);
      message.success('登录成功');
      navigate('/dashboard');
    } catch (error) {
      message.error('登录失败，请检查用户名和密码');
    } finally {
      setLoading(false);
    }
  };

  return (
    <div className="login-container">
      <Card className="login-card">
        <div className="login-header">
          <h1>校园课程表管理系统</h1>
          <p>请输入您的账号信息</p>
        </div>
        
        <Form form={form} onFinish={onFinish} layout="vertical">
          <Form.Item
            name="username"
            label="用户名"
            rules={[{ required: true, message: '请输入用户名' }]}
          >
            <Input prefix={<UserOutlined />} placeholder="请输入用户名" />
          </Form.Item>
          
          <Form.Item
            name="password"
            label="密码"
            rules={[{ required: true, message: '请输入密码' }]}
          >
            <Input.Password prefix={<LockOutlined />} placeholder="请输入密码" />
          </Form.Item>
          
          <Form.Item>
            <Button type="primary" htmlType="submit" loading={loading} block>
              登录
            </Button>
          </Form.Item>
        </Form>
      </Card>
    </div>
  );
};
```

2. **仪表板页面 (DashboardPage)**
```typescript
const DashboardPage: React.FC = () => {
  const [stats, setStats] = useState<DashboardStats | null>(null);
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    fetchDashboardData();
  }, []);

  const fetchDashboardData = async () => {
    try {
      const response = await analyticsAPI.getDashboardStats();
      setStats(response.data);
    } catch (error) {
      message.error('获取数据失败');
    } finally {
      setLoading(false);
    }
  };

  return (
    <div className="dashboard-container">
      <PageHeader title="仪表板" subTitle="系统概览" />
      
      {/* 统计卡片 */}
      <Row gutter={[16, 16]} style={{ marginBottom: 24 }}>
        <Col span={6}>
          <StatCard
            title="总课程数"
            value={stats?.totalCourses || 0}
            icon={<BookOutlined />}
            color="#1890ff"
          />
        </Col>
        <Col span={6}>
          <StatCard
            title="总学生数"
            value={stats?.totalStudents || 0}
            icon={<UserOutlined />}
            color="#52c41a"
          />
        </Col>
        <Col span={6}>
          <StatCard
            title="总教师数"
            value={stats?.totalTeachers || 0}
            icon={<TeamOutlined />}
            color="#722ed1"
          />
        </Col>
        <Col span={6}>
          <StatCard
            title="教室利用率"
            value={`${stats?.classroomUtilization || 0}%`}
            icon={<HomeOutlined />}
            color="#faad14"
          />
        </Col>
      </Row>

      {/* 图表区域 */}
      <Row gutter={[16, 16]}>
        <Col span={12}>
          <Card title="课程分布统计">
            <CourseDistributionChart data={stats?.courseDistribution} />
          </Card>
        </Col>
        <Col span={12}>
          <Card title="教室使用情况">
            <ClassroomUsageChart data={stats?.classroomUsage} />
          </Card>
        </Col>
      </Row>
    </div>
  );
};
```

3. **课程表页面 (SchedulePage)**
```typescript
const SchedulePage: React.FC = () => {
  const [schedules, setSchedules] = useState<Schedule[]>([]);
  const [selectedWeek, setSelectedWeek] = useState(1);
  const [viewMode, setViewMode] = useState<'week' | 'month'>('week');
  const [loading, setLoading] = useState(false);

  const timeSlots = [
    { id: 1, name: '第1节', startTime: '08:00', endTime: '08:45' },
    { id: 2, name: '第2节', startTime: '08:55', endTime: '09:40' },
    // ... 更多时间段
  ];

  const weekDays = ['周一', '周二', '周三', '周四', '周五', '周六', '周日'];

  return (
    <div className="schedule-container">
      <PageHeader
        title="课程表管理"
        subTitle="查看和管理课程安排"
        extra={[
          <Select
            key="week"
            value={selectedWeek}
            onChange={setSelectedWeek}
            style={{ width: 120 }}
          >
            {Array.from({ length: 20 }, (_, i) => (
              <Option key={i + 1} value={i + 1}>
                第{i + 1}周
              </Option>
            ))}
          </Select>,
          <Radio.Group
            key="view"
            value={viewMode}
            onChange={(e) => setViewMode(e.target.value)}
          >
            <Radio.Button value="week">周视图</Radio.Button>
            <Radio.Button value="month">月视图</Radio.Button>
          </Radio.Group>,
        ]}
      />

      <Card>
        <ScheduleGrid
          schedules={schedules}
          timeSlots={timeSlots}
          weekDays={weekDays}
          onCellClick={handleCellClick}
          onScheduleClick={handleScheduleClick}
          editable={true}
        />
      </Card>
    </div>
  );
};
```

### 任务4：状态管理实现

**目标**: 使用Redux Toolkit实现高效的状态管理

**Store配置**:
```typescript
// store/index.ts
import { configureStore } from '@reduxjs/toolkit';
import { authSlice } from './slices/authSlice';
import { courseSlice } from './slices/courseSlice';
import { scheduleSlice } from './slices/scheduleSlice';
import { apiSlice } from './api/apiSlice';

export const store = configureStore({
  reducer: {
    auth: authSlice.reducer,
    courses: courseSlice.reducer,
    schedules: scheduleSlice.reducer,
    api: apiSlice.reducer,
  },
  middleware: (getDefaultMiddleware) =>
    getDefaultMiddleware().concat(apiSlice.middleware),
});

export type RootState = ReturnType<typeof store.getState>;
export type AppDispatch = typeof store.dispatch;
```

### 任务5：响应式设计与优化

**目标**: 实现完美的响应式布局和性能优化

**响应式断点**:
```typescript
export const breakpoints = {
  xs: '480px',
  sm: '576px',
  md: '768px',
  lg: '992px',
  xl: '1200px',
  xxl: '1600px',
};
```

**性能优化策略**:
- 组件懒加载
- 虚拟滚动
- 图片懒加载
- 代码分割
- 缓存策略

请按照以上要求开始前端界面的开发，确保界面美观大气、用户体验优秀。
