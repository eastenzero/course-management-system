## 目标与范围

- 目标：将教师端与学生端从“后台管理风格”升级为更友好、活泼、现代的产品界面；引入用户自定义主题色系；整体基调采用“莫奈/莫兰迪”色调与 iOS 式毛玻璃质感（Glassmorphism）
- 范围：视觉与交互层外观升级，不改变业务流程与信息架构；包含主题系统、组件风格、动效、无障碍、性能与降级

---

## 视觉基调与灵感

- 气质：柔和低饱和、通透留白、亲和专业
- 灵感方向：
  - iOS 磨砂玻璃（半透明 + 模糊 + 高光描边）
  - Material You（动态取色、Design Tokens）
  - Notion/Stripe 的简洁现代细节
- 语气：
  - 学生端更活泼（插画/徽章/微动效）；教师端专业不冰冷（稳重过渡、清晰反馈）

---

## 排版与栅格

- 字体与层级
  - 标题（H1/H2/H3）：更高对比与宽松行高；正文行高 1.6–1.8（中文）
  - 数字与数据：采用等宽或对齐策略，确保仪表盘与表格可读
- 栅格与留白
  - 8pt 基准（8/16/24/32…）；关键卡片与面板使用 16/24 内边距
  - 页面最大内容宽度建议 1200–1440px，自适应断点：≥1440 / 1024–1439 / ≤1023

---

## Glassmorphism（毛玻璃）规范

- 背景模糊（backdrop-blur）
  - blur-sm: 8px；blur-md: 16px；blur-lg: 24px（层级越高模糊越强）
- 半透明表面（surface alpha）
  - Light：白色表面 α≈0.55–0.68
  - Dark：黑色表面 α≈0.28–0.40
- 高光描边与阴影
  - 高光描边：白色/主题高光 α≈0.30–0.38，1px 内外发光结合
  - 阴影：y=8–24px、blur=24–48px、α≈0.08–0.12，柔和无硬边
- 圆角与形态
  - 按钮 10–12；卡片 16；抽屉/弹窗 20–24；胶囊控件全圆角
- 纹理与颗粒
  - 2–4% 低频细颗粒噪点叠加于玻璃表面（可在低配设备关闭）
- 层级关系（从低到高）
  - 背景 > 卡片 > 弹出气泡 > 抽屉 > 弹窗 > Toast/通知

---

## 色彩与主题（概述）

- 基调：
  - 莫奈 Monet：水彩柔光、空气感、淡高光
  - 莫兰迪 Morandi：低饱和灰调、静谧克制
- 预设主题与功能色参见《主题方案.md》；本规范强调用法与对比度
- 对比度与可读性
  - 正文最小 4.5:1，标题与大字最小 3:1
  - 动态主题需实时检测并自动微调对比

---

## 图标与插画语言

- 图标：线性、圆角端点、笔画粗细一致；颜色跟随主题主/中性色
- 插画：低饱和、扁平化，少量渐变与柔和阴影；学生端可更活泼，教师端更中性
- 空状态：情境插画 + 明确引导 CTA，避免冷冰冰的“无数据”

---

## 动效系统

- 原则：快而不躁、灵动有反馈；进入 200–250ms，退出 150–200ms
- 缓动：cubic-bezier(0.22, 1, 0.36, 1)（自然回弹），进阶交互可用标准出入场/弹性曲线
- 状态反馈
  - Hover：玻璃表面轻微增亮 + 提升描边对比
  - Active：0.96–0.98 轻压缩后回弹；按钮墨迹/波纹低不透明度
  - Loading：骨架屏 + 低频渐变；完成时短促正反馈（80–140ms）
- 页面转场
  - 抽屉：背景模糊渐入；弹窗：轻缩放 + 模糊淡入
  - 路由切换：内容层淡入淡出 + 位移 8–12px（避免长距离位移）

---

## 无障碍与国际化

- 键盘可达：焦点可见（高对比描边/外发光）、Tab 顺序符合语义
- 视觉对比：AA 标准；提供“减少动效”模式（关闭大部分动效与噪点）
- 颜色盲友好：提供备选高对比主题；避免仅用颜色表达状态（配合图标/文案）
- 文案长度：多语言适配，按钮最小宽度与标题截断/折行策略明确

---

## 性能与兼容

- 渐进增强
  - 支持 backdrop-filter 的浏览器使用真实模糊
  - 不支持时降级为半透明 + 分层阴影 + 细描边
- 渲染优化
  - 控制模糊层数量与面积（大面积背景集中一层，组件尽量复用）
  - 合理使用分层与缓存，避免滚动时抖动
- 资源与图形
  - 图片 WebP/AVIF；SVG 图标；插画懒加载；动效帧率控制（≤60fps）

---

## 验收标准（全局）

- 可用性：关键任务完成率 ≥ 95%，关键路径操作时长下降 10–20%
- 视觉一致性：组件均符合规范（色彩/圆角/阴影/动效）
- 对比度：文本对比 AA 达标（自动检测报告）
- 性能：LCP/INP 无显著下降；低配设备降级后稳定
- 无障碍：键盘导航覆盖 100%；“减少动效”生效

---

## 文档关系

- 本文件：总体设计规范与约束
- 主题方案.md：主题与色板、明暗/功能色、对比度策略
- 组件规范.md：组件外观、状态、动效与玻璃化适配
- 页面改造清单.md：教师/学生端页面级改造要点、优先级与排期
